<h2 mat-dialog-title>Agregar Nueva Carrera</h2>

<mat-dialog-content class="mat-typography">
  <form class="career-form">
    
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Nombre de la Carrera</mat-label>
      <input matInput [(ngModel)]="newCareer.name" name="nombre" required>
      <mat-icon matSuffix>school</mat-icon>
    </mat-form-field>

    <mat-form-field appearance="outline" class="half-width">
      <mat-label>Duración (años)</mat-label>
      <input matInput type="number" [(ngModel)]="newCareer.duration" name="duracion" required>
    </mat-form-field>
    
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Descripción</mat-label>
      <textarea matInput 
                [(ngModel)]="newCareer.description" 
                name="descripcion" 
                rows="4" 
                maxlength="500"></textarea>
    </mat-form-field>

    
    <div class="full-width">
      <button 
        mat-flat-button 
        color="accent" 
        (click)="openSubjectConfiguration()" 
        class="subject-config-button"
        type="button">
        <mat-icon>settings</mat-icon>
        Configurar {{ newCareer.subjects.length }} Asignaturas
      </button>
      @if (newCareer.subjects.length > 0) {
        <p class="text-sm text-green-600 mt-1">
          {{ newCareer.subjects.length }} materias configuradas.
        </p>
      }
    </div>

  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancelar()">Cancelar</button>
  <button mat-raised-button 
          color="primary" 
          [disabled]="!newCareer.name || !newCareer.duration || newCareer.subjects.length === 0" 
          (click)="onGuardar()">
    Guardar
  </button>
</mat-dialog-actions>